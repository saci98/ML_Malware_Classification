from collections.abc import Sequence
from pathlib import Path
from typing import Optional

ftr_dir = Path("pre-extract")
if not ftr_dir.exists():
    ftr_dir.mkdir()


class ListFile:
    def __init__(self, name_file: str) -> None:
        self.name_file = name_file

    def save(self, data: Sequence[str]) -> None:
        path = ftr_dir.joinpath(self.name_file)
        with path.open("w", encoding="utf-8") as file:
            for line in data:
                file.write(f"{str(line)}\n")

    def load(self) -> Optional[list[str]]:
        path = ftr_dir.joinpath(self.name_file)
        if path.exists():
            with path.open(encoding="utf-8") as file:
                return file.read().splitlines("\n")
        else:
            return None


